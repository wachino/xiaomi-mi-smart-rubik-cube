{"version":3,"sources":["helpers/bluetooth.js","helpers/cubeParser.js","App.js","index.js"],"names":["SERVICE_UUID","isWebBluetoothSupported","navigator","startNotifications","server","getPrimaryService","then","service","window","mservice","getCharacteristic","characteristic","mcharacteristic","disconnectFromBluetoothDevice","device","gatt","connected","disconnect","Promise","resolve","converseAngleSetSingleXfirst","cube","angleFace","p1","p2","p3","c1","c2","c3","result","converseAngleSetSingleYfirst","converseAngleSetXfirst","angle","f1","f2","f3","num","converseAngleSetYfirst","converseLineSetSingle","lineFace","converseLineSet","line","converseChangeFaceAgain","a1","a2","a3","a4","parseCube","bytes","paperTypeCube","cubeOutputDataDebug","array","Uint8Array","array2","array3","array4","array5","length","i","b","j","converseToPaperType","mixData","byteLength","getUint8","b2","b3","b4","b5","cubeDataMixDecode","Array","from","slice","faceColorMap","App","React","useState","cubeState","setCubeState","setDevice","useEffect","imgContainer","document","querySelector","innerHTML","SRVisualizer","className","id","onClick","a","alert","bluetooth","requestDevice","acceptAllDevices","optionalServices","connect","mdevice","mserver","connectedDevice","addEventListener","event","value","target","newCubeState","map","faceletColor","join","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0423c280.chunk.js","sourcesContent":["const SERVICE_UUID = '0000aadb-0000-1000-8000-00805f9b34fb';\nconst CHARACTERISTIC_UUID = '0000aadc-0000-1000-8000-00805f9b34fb';\n\nexport const isWebBluetoothSupported = 'bluetooth' in navigator;\n\nexport const connectToBluetoothDevice = () => {\n  return navigator.bluetooth\n    .requestDevice({\n      acceptAllDevices: true,\n      optionalServices: [SERVICE_UUID],\n    })\n    .then((device) =>\n      device.gatt.connect().then((server) => {\n        window.mdevice = device;\n        window.mserver = server;\n        return { device, server };\n      })\n    );\n};\n\nexport const startNotifications = (server) =>\n  server.getPrimaryService(SERVICE_UUID).then((service) => {\n    window.mservice = service;\n    return service.getCharacteristic(CHARACTERISTIC_UUID).then((characteristic) => {\n      window.mcharacteristic = characteristic;\n      characteristic.startNotifications();\n      return characteristic;\n    });\n  });\n\nexport const disconnectFromBluetoothDevice = (device) => {\n  if (!device || !device.gatt.connected) return Promise.resolve();\n  return device.gatt.disconnect();\n};\n","const converseAngleSetSingleXfirst = function(cube, angleFace, p1, p2, p3, c1, c2, c3) {\n  let result = 0;\n  if (angleFace === 1) {\n    cube[p1] = c3;\n    cube[p2] = c1;\n    cube[p3] = c2;\n  } else if (angleFace === 2) {\n    cube[p1] = c2;\n    cube[p2] = c3;\n    cube[p3] = c1;\n  } else if (angleFace === 3) {\n    cube[p1] = c1;\n    cube[p2] = c2;\n    cube[p3] = c3;\n  } else {\n    result = 1;\n  }\n  return result;\n};\n\nconst converseAngleSetSingleYfirst = function(cube, angleFace, p1, p2, p3, c1, c2, c3) {\n  let result = 0;\n  if (angleFace === 2) {\n    cube[p1] = c3;\n    cube[p2] = c1;\n    cube[p3] = c2;\n  } else if (angleFace === 1) {\n    cube[p1] = c2;\n    cube[p2] = c3;\n    cube[p3] = c1;\n  } else if (angleFace === 3) {\n    cube[p1] = c1;\n    cube[p2] = c2;\n    cube[p3] = c3;\n  } else {\n    result = 1;\n  }\n  return result;\n};\n\nconst converseAngleSetXfirst = function(cube, angle, angleFace, f1, f2, f3) {\n  let num = 0;\n  if (angle === 1) {\n    num |= converseAngleSetSingleXfirst(cube, angleFace, f1, f2, f3, 1, 2, 3);\n  } else if (angle === 2) {\n    num |= converseAngleSetSingleXfirst(cube, angleFace, f1, f2, f3, 1, 3, 4);\n  } else if (angle === 3) {\n    num |= converseAngleSetSingleXfirst(cube, angleFace, f1, f2, f3, 1, 4, 5);\n  } else if (angle === 4) {\n    num |= converseAngleSetSingleXfirst(cube, angleFace, f1, f2, f3, 1, 5, 2);\n  } else if (angle === 5) {\n    num |= converseAngleSetSingleXfirst(cube, angleFace, f1, f2, f3, 6, 3, 2);\n  } else if (angle === 6) {\n    num |= converseAngleSetSingleXfirst(cube, angleFace, f1, f2, f3, 6, 4, 3);\n  } else if (angle === 7) {\n    num |= converseAngleSetSingleXfirst(cube, angleFace, f1, f2, f3, 6, 5, 4);\n  } else if (angle === 8) {\n    num |= converseAngleSetSingleXfirst(cube, angleFace, f1, f2, f3, 6, 2, 5);\n  } else {\n    num |= 2;\n  }\n  return num;\n};\n\nconst converseAngleSetYfirst = function(cube, angle, angleFace, f1, f2, f3) {\n  let num = 0;\n  if (angle === 1) {\n    num |= converseAngleSetSingleYfirst(cube, angleFace, f1, f2, f3, 1, 2, 3);\n  } else if (angle === 2) {\n    num |= converseAngleSetSingleYfirst(cube, angleFace, f1, f2, f3, 1, 3, 4);\n  } else if (angle === 3) {\n    num |= converseAngleSetSingleYfirst(cube, angleFace, f1, f2, f3, 1, 4, 5);\n  } else if (angle === 4) {\n    num |= converseAngleSetSingleYfirst(cube, angleFace, f1, f2, f3, 1, 5, 2);\n  } else if (angle === 5) {\n    num |= converseAngleSetSingleYfirst(cube, angleFace, f1, f2, f3, 6, 3, 2);\n  } else if (angle === 6) {\n    num |= converseAngleSetSingleYfirst(cube, angleFace, f1, f2, f3, 6, 4, 3);\n  } else if (angle === 7) {\n    num |= converseAngleSetSingleYfirst(cube, angleFace, f1, f2, f3, 6, 5, 4);\n  } else if (angle === 8) {\n    num |= converseAngleSetSingleYfirst(cube, angleFace, f1, f2, f3, 6, 2, 5);\n  } else {\n    num |= 2;\n  }\n  return num;\n};\n\nconst converseLineSetSingle = function(cube, lineFace, p1, p2, c1, c2) {\n  let result = 0;\n  if (lineFace === 1) {\n    cube[p1] = c1;\n    cube[p2] = c2;\n  } else if (lineFace === 2) {\n    cube[p1] = c2;\n    cube[p2] = c1;\n  } else {\n    result = 3;\n  }\n  return result;\n};\n\nconst converseLineSet = function(cube, line, lineFace, p1, p2) {\n  let num = 0;\n  if (line === 1) {\n    num |= converseLineSetSingle(cube, lineFace, p1, p2, 1, 2);\n  } else if (line === 2) {\n    num |= converseLineSetSingle(cube, lineFace, p1, p2, 1, 3);\n  } else if (line === 3) {\n    num |= converseLineSetSingle(cube, lineFace, p1, p2, 1, 4);\n  } else if (line === 4) {\n    num |= converseLineSetSingle(cube, lineFace, p1, p2, 1, 5);\n  } else if (line === 5) {\n    num |= converseLineSetSingle(cube, lineFace, p1, p2, 2, 3);\n  } else if (line === 6) {\n    num |= converseLineSetSingle(cube, lineFace, p1, p2, 4, 3);\n  } else if (line === 7) {\n    num |= converseLineSetSingle(cube, lineFace, p1, p2, 4, 5);\n  } else if (line === 8) {\n    num |= converseLineSetSingle(cube, lineFace, p1, p2, 2, 5);\n  } else if (line === 9) {\n    num |= converseLineSetSingle(cube, lineFace, p1, p2, 6, 2);\n  } else if (line === 10) {\n    num |= converseLineSetSingle(cube, lineFace, p1, p2, 6, 3);\n  } else if (line === 11) {\n    num |= converseLineSetSingle(cube, lineFace, p1, p2, 6, 4);\n  } else if (line === 12) {\n    num |= converseLineSetSingle(cube, lineFace, p1, p2, 6, 5);\n  } else {\n    num = 4;\n  }\n  return num;\n};\n\nconst converseChangeFaceAgain = function(cube, a1, a2, a3, a4) {\n  let num = cube[a4];\n  cube[a4] = cube[a3];\n  cube[a3] = cube[a2];\n  cube[a2] = cube[a1];\n  cube[a1] = num;\n};\n\nconst converseToPaperType = function(cubeOutputDataDebug) {\n  let array = new Uint8Array(55);\n  let num = 0;\n  let array2 = new Uint8Array(8);\n  let array3 = new Uint8Array(8);\n  let array4 = new Uint8Array(12);\n  let array5 = new Uint8Array(12);\n  if (cubeOutputDataDebug.length !== 20) {\n    for (let i = 0; i < 55; i++) {\n      array[i] = 0;\n    }\n    return array;\n  }\n  array2[0] = cubeOutputDataDebug[0] >> 4;\n  array2[1] = cubeOutputDataDebug[0] & 15;\n  array2[2] = cubeOutputDataDebug[1] >> 4;\n  array2[3] = cubeOutputDataDebug[1] & 15;\n  array2[4] = cubeOutputDataDebug[2] >> 4;\n  array2[5] = cubeOutputDataDebug[2] & 15;\n  array2[6] = cubeOutputDataDebug[3] >> 4;\n  array2[7] = cubeOutputDataDebug[3] & 15;\n  array3[0] = cubeOutputDataDebug[4] >> 4;\n  array3[1] = cubeOutputDataDebug[4] & 15;\n  array3[2] = cubeOutputDataDebug[5] >> 4;\n  array3[3] = cubeOutputDataDebug[5] & 15;\n  array3[4] = cubeOutputDataDebug[6] >> 4;\n  array3[5] = cubeOutputDataDebug[6] & 15;\n  array3[6] = cubeOutputDataDebug[7] >> 4;\n  array3[7] = cubeOutputDataDebug[7] & 15;\n  array4[0] = cubeOutputDataDebug[8] >> 4;\n  array4[1] = cubeOutputDataDebug[8] & 15;\n  array4[2] = cubeOutputDataDebug[9] >> 4;\n  array4[3] = cubeOutputDataDebug[9] & 15;\n  array4[4] = cubeOutputDataDebug[10] >> 4;\n  array4[5] = cubeOutputDataDebug[10] & 15;\n  array4[6] = cubeOutputDataDebug[11] >> 4;\n  array4[7] = cubeOutputDataDebug[11] & 15;\n  array4[8] = cubeOutputDataDebug[12] >> 4;\n  array4[9] = cubeOutputDataDebug[12] & 15;\n  array4[10] = cubeOutputDataDebug[13] >> 4;\n  array4[11] = cubeOutputDataDebug[13] & 15;\n  for (let b = 0; b < 12; b += 1) {\n    array5[b] = 0;\n  }\n  if ((cubeOutputDataDebug[14] & 128) !== 0) {\n    array5[0] = 2;\n  } else {\n    array5[0] = 1;\n  }\n  if ((cubeOutputDataDebug[14] & 64) !== 0) {\n    array5[1] = 2;\n  } else {\n    array5[1] = 1;\n  }\n  if ((cubeOutputDataDebug[14] & 32) !== 0) {\n    array5[2] = 2;\n  } else {\n    array5[2] = 1;\n  }\n  if ((cubeOutputDataDebug[14] & 16) !== 0) {\n    array5[3] = 2;\n  } else {\n    array5[3] = 1;\n  }\n  if ((cubeOutputDataDebug[14] & 8) !== 0) {\n    array5[4] = 2;\n  } else {\n    array5[4] = 1;\n  }\n  if ((cubeOutputDataDebug[14] & 4) !== 0) {\n    array5[5] = 2;\n  } else {\n    array5[5] = 1;\n  }\n  if ((cubeOutputDataDebug[14] & 2) !== 0) {\n    array5[6] = 2;\n  } else {\n    array5[6] = 1;\n  }\n  if ((cubeOutputDataDebug[14] & 1) !== 0) {\n    array5[7] = 2;\n  } else {\n    array5[7] = 1;\n  }\n  if ((cubeOutputDataDebug[15] & 128) !== 0) {\n    array5[8] = 2;\n  } else {\n    array5[8] = 1;\n  }\n  if ((cubeOutputDataDebug[15] & 64) !== 0) {\n    array5[9] = 2;\n  } else {\n    array5[9] = 1;\n  }\n  if ((cubeOutputDataDebug[15] & 32) !== 0) {\n    array5[10] = 2;\n  } else {\n    array5[10] = 1;\n  }\n  if ((cubeOutputDataDebug[15] & 16) !== 0) {\n    array5[11] = 2;\n  } else {\n    array5[11] = 1;\n  }\n  array[32] = 1;\n  array[41] = 2;\n  array[50] = 3;\n  array[14] = 4;\n  array[23] = 5;\n  array[5] = 6;\n  num |= converseAngleSetXfirst(array, array2[0], array3[0], 34, 43, 54);\n  num |= converseAngleSetYfirst(array, array2[1], array3[1], 36, 52, 18);\n  num |= converseAngleSetXfirst(array, array2[2], array3[2], 30, 16, 27);\n  num |= converseAngleSetYfirst(array, array2[3], array3[3], 28, 25, 45);\n  num |= converseAngleSetYfirst(array, array2[4], array3[4], 1, 48, 37);\n  num |= converseAngleSetXfirst(array, array2[5], array3[5], 3, 12, 46);\n  num |= converseAngleSetYfirst(array, array2[6], array3[6], 9, 21, 10);\n  num |= converseAngleSetXfirst(array, array2[7], array3[7], 7, 39, 19);\n  num |= converseLineSet(array, array4[0], array5[0], 31, 44);\n  num |= converseLineSet(array, array4[1], array5[1], 35, 53);\n  num |= converseLineSet(array, array4[2], array5[2], 33, 17);\n  num |= converseLineSet(array, array4[3], array5[3], 29, 26);\n  num |= converseLineSet(array, array4[4], array5[4], 40, 51);\n  num |= converseLineSet(array, array4[5], array5[5], 15, 49);\n  num |= converseLineSet(array, array4[6], array5[6], 13, 24);\n  num |= converseLineSet(array, array4[7], array5[7], 42, 22);\n  num |= converseLineSet(array, array4[8], array5[8], 4, 38);\n  num |= converseLineSet(array, array4[9], array5[9], 2, 47);\n  num |= converseLineSet(array, array4[10], array5[10], 6, 11);\n  num |= converseLineSet(array, array4[11], array5[11], 8, 20);\n  converseChangeFaceAgain(array, 1, 7, 9, 3);\n  converseChangeFaceAgain(array, 4, 8, 6, 2);\n  converseChangeFaceAgain(array, 37, 19, 10, 46);\n  converseChangeFaceAgain(array, 38, 20, 11, 47);\n  converseChangeFaceAgain(array, 39, 21, 12, 48);\n  converseChangeFaceAgain(array, 40, 22, 13, 49);\n  converseChangeFaceAgain(array, 41, 23, 14, 50);\n  converseChangeFaceAgain(array, 42, 24, 15, 51);\n  converseChangeFaceAgain(array, 43, 25, 16, 52);\n  converseChangeFaceAgain(array, 44, 26, 17, 53);\n  converseChangeFaceAgain(array, 45, 27, 18, 54);\n  converseChangeFaceAgain(array, 34, 28, 30, 36);\n  converseChangeFaceAgain(array, 31, 29, 33, 35);\n  if (num !== 0) {\n    for (let j = 0; j < 55; j++) {\n      array[j] = 0;\n    }\n  }\n  return array;\n};\n\nconst cubeDataMixDecode = function(mixData) {\n  let array = new Uint8Array(20);\n  let array2 = [\n    80,\n    175,\n    152,\n    32,\n    170,\n    119,\n    19,\n    137,\n    218,\n    230,\n    63,\n    95,\n    46,\n    130,\n    106,\n    175,\n    163,\n    243,\n    20,\n    7,\n    167,\n    21,\n    168,\n    232,\n    143,\n    175,\n    42,\n    125,\n    126,\n    57,\n    254,\n    87,\n    217,\n    91,\n    85,\n    215\n  ];\n  if (mixData.byteLength !== 20) {\n    return mixData;\n  }\n  if (mixData.getUint8(18) !== 167) {\n    return mixData;\n  }\n  let b = mixData.getUint8(19);\n  b &= 15;\n  let b2 = mixData.getUint8(19);\n  b2 = b2 >> 4;\n  for (let b3 = 0; b3 < 19; b3 += 1) {\n    array[b3] = mixData.getUint8(b3);\n    let array3 = array;\n    let b4 = b3;\n    array3[b4] = array3[b4] - array2[b + b3];\n    let array4 = array;\n    let b5 = b3;\n    array4[b5] = array4[b5] - array2[b2 + b3];\n  }\n  return array;\n};\n\nexport const parseCube = bytes => {\n  const mixerDataDecoded = cubeDataMixDecode(bytes);\n  const paperTypeCube = converseToPaperType(mixerDataDecoded);\n  return Array.from(paperTypeCube).slice(1);\n};\n","import React from 'react';\nimport {\n  connectToBluetoothDevice,\n  startNotifications,\n  isWebBluetoothSupported,\n  disconnectFromBluetoothDevice,\n} from './helpers/bluetooth';\nimport { parseCube } from './helpers/cubeParser';\nimport * as SRVisualizer from 'sr-visualizer';\nimport './App.css';\n\nconst faceColorMap = ['g', 'y', 'r', 'w', 'o', 'b'];\n\nconst App = () => {\n  const [cubeState, setCubeState] = React.useState(\n    'bbbbbbbbboooooooooyyyyyyyyygggggggggrrrrrrrrrwwwwwwwww'\n  );\n  const [device, setDevice] = React.useState(null);\n\n  React.useEffect(() => {\n    // returned function will be called on component unmount\n    return () => {\n      disconnectFromBluetoothDevice(device);\n    };\n  }, [device]);\n\n  React.useEffect(() => {\n    const imgContainer = document.querySelector('#imageContainer');\n    imgContainer.innerHTML = '';\n    SRVisualizer.cubeSVG(\n      imgContainer,\n      `visualcube.php?fmt=svg&r=x-90y-120x-20&size=300&fc=${cubeState}`\n    );\n  }, [cubeState]);\n\n  return (\n    <div className=\"App\">\n      <div>\n        <div id=\"imageContainer\"></div>\n        <button\n          onClick={async () => {\n            // a quick check for bluetooth support in the browser\n            if (!isWebBluetoothSupported) {\n              alert('Browser does not support bluetooth');\n              return;\n            }\n\n            const { server, device: connectedDevice } = await connectToBluetoothDevice();\n            setDevice(connectedDevice);\n            const characteristic = await startNotifications(server);\n            characteristic.addEventListener('characteristicvaluechanged', (event) => {\n              const { value } = event.target; // 20 bytes sent by the cube\n              const newCubeState = parseCube(value) // We parse it to an array of 54 colors (1...6)\n                .map((faceletColor) => faceColorMap[faceletColor - 1])\n                .join('');\n              setCubeState(newCubeState);\n            });\n            connectedDevice.addEventListener('gattserverdisconnected', () => {\n              disconnectFromBluetoothDevice(connectedDevice);\n            });\n          }}\n        >\n          connect\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}